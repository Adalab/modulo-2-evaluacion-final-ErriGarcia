{"version":3,"sources":["main.js","main.old.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["/**\n * GLOBAL VARIABLES\n */\n\n// Use for the home page and search\nlet favoriteCocktails = []\nlet cocktails = []\nconst searchInput = document.querySelector('.js-search-input')\nconst searchButton = document.querySelector('.js-search-button')\nconst resetButton = document.querySelector('.js-reset-button')\n\n/**\n * HOME PAGE\n */\n\nfetch('https://www.thecocktaildb.com/api/json/v1/1/search.php?s=margarita')\n    .then(response => response.json())\n    .then(data => {\n        cocktails = data.drinks\n        createTitle('.js-cocktails-title', `Hay ${cocktails.length} cocktails`)\n        showCocktailList('.js-cocktails-list', cocktails)\n        addOrRemoveCocktailToFavoriteList()\n        getCocktailsFromLocalStorage()\n    })\n\n\n/**\n * SEARCH\n */\n\nfunction handleClickSearchButton() {\n    const searchInputValue = searchInput.value\n    fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${searchInputValue}`)\n        .then(response => response.json())\n        .then(data => {\n            cocktails = data.drinks\n            createTitle('.js-cocktails-title', `Hay ${cocktails.length} cocktails`)\n            showCocktailList('.js-cocktails-list', cocktails)\n            addOrRemoveCocktailToFavoriteList()\n        })\n    \n}\nsearchButton.addEventListener('click', handleClickSearchButton)\n\n/**\n * RESET\n */\nfunction handleClickResetButton() {\n    searchInput.value = \"\"\n}\nresetButton.addEventListener('click', handleClickResetButton)\n\n/**\n * SAVE COCKTAILS IN LOCAL STORAGE\n */\n\nfunction saveInLocalStorage() {\n    localStorage.setItem('favoriteCocktails', JSON.stringify(favoriteCocktails))\n}\n\n/**\n * GET COCKTAILS FROM LOCAL STORAGE\n*/\nfunction getCocktailsFromLocalStorage() {\n    let favoriteCocktailsStored = JSON.parse(localStorage.getItem('favoriteCocktails'))\n    if (favoriteCocktailsStored) {\n        favoriteCocktails = favoriteCocktailsStored\n        showCocktailList('.js-favorite-cocktails-list', favoriteCocktails)\n    }\n}\n\n/**\n * REMOVE COCKTAIL FROM LOCAL STORAGE\n */\n\nfunction removeCocktailFromLocalStorage(cocktail) {\n    localStorage.removeItem(cocktail)\n}\n\n/**\n * GENERAL FUNCTIONTS\n */\n\n/**\n * Receives a text and a class and create a title\n * \n * @param {*} listClassSelector element's class in which you want to show the title\n * @param {*} textTitle text for the title\n */\nfunction createTitle(listClassSelector, textTitle) {\n    const element = document.querySelector(listClassSelector)\n    element.innerHTML = textTitle\n}\n\n/**\n * Receives a class and a cocktail list you want to show\n * \n * @param {*} classList element's class in which you want to add the cocktails\n * @param {*} cocktailsList list of cocktails you want to show\n */\nfunction showCocktailList(classList, cocktailsList) {\n    let selected = ''\n    let favoriteList = ''\n\n    if (classList === '.js-favorite-cocktails-list') {\n        selected = 'selected'\n        favoriteList = '-favorite-list'\n    }\n\n    const element = document.querySelector(classList)\n    element.innerHTML = ''\n    for (const cocktail of cocktailsList) {\n        element.innerHTML +=\n        `<li>\n            <article>\n            <img src=\"${cocktail.strDrinkThumb}\" width=\"100px\">\n            <div>\n                <h4>${cocktail.strDrink}</h4>\n                <button class=\"js-favorite-icon${favoriteList} ${selected}\" id=\"${cocktail.idDrink}\">\n\n                </button>\n\n            </div>\n            </article>\n        </li>`\n    }\n\n    if (classList === '.js-favorite-cocktails-list') {\n        removeFavoriteCocktail()\n    }\n}\n\nfunction addOrRemoveCocktailToFavoriteList() {\n    const favoriteButtons = document.querySelectorAll('.js-favorite-icon')\n\n    for (const favoriteButton of favoriteButtons) {\n        favoriteButton.addEventListener('click', handleClickFavoriteButton)\n    }\n\n    console.log(favoriteButtons, 'favoriteButtons')\n\n\n    function handleClickFavoriteButton(event) {\n        const cocktailId = event.target.id\n        const selectedCocktail = cocktails.find(cocktail => cocktail.idDrink === cocktailId)\n        const indexFavoriteCocktail = favoriteCocktails.findIndex(cocktail => cocktail.idDrink === cocktailId)\n\n        console.log(event, 'event')\n\n        if (indexFavoriteCocktail === -1) {\n            event.target.classList.add('selected')\n            favoriteCocktails.push(selectedCocktail)\n            saveInLocalStorage()\n        } else {\n            event.target.classList.remove('selected')\n            favoriteCocktails.splice(indexFavoriteCocktail, 1)\n            removeCocktailFromLocalStorage(selectedCocktail)\n            saveInLocalStorage()\n        }\n\n        if (favoriteCocktails.length > 0) {\n            createTitle('.js-favorite-cocktails-title', `Hay ${favoriteCocktails.length} cocktails favoritos`)\n        } else {\n            createTitle('.js-favorite-cocktails-title', 'Añade un cocktail en tu lista de favoritos')\n        }\n        showCocktailList('.js-favorite-cocktails-list', favoriteCocktails)\n    }\n}\n\nfunction removeFavoriteCocktail() {\n    const favoriteButtonsInFavoriteList = document.querySelectorAll('.js-favorite-icon-favorite-list')\n\n    for (const favoriteButtoninFavoriteList of favoriteButtonsInFavoriteList) {\n        favoriteButtoninFavoriteList.addEventListener('click', handleClickFavoriteButtonInFavoriteList)\n    }\n\n    function handleClickFavoriteButtonInFavoriteList(event) {\n        const cocktailId = event.target.id\n\n        const indexFavoriteCocktail = favoriteCocktails.findIndex(cocktail => cocktail.idDrink === cocktailId)\n        favoriteCocktails.splice(indexFavoriteCocktail, 1)\n\n        const selectedCocktail = document.getElementById(cocktailId)\n        selectedCocktail.classList.remove('selected')\n\n        if (favoriteCocktails.length > 0) {\n            createTitle('.js-favorite-cocktails-title', `Hay ${favoriteCocktails.length} cocktails favoritos`)\n        } else {\n            createTitle('.js-favorite-cocktails-title', 'Añade un cocktail en tu lista de favoritos')\n        }\n        \n        showCocktailList('.js-favorite-cocktails-list', favoriteCocktails)\n    }\n}\n\n","'use strict'\n\n// Variables\n\n// const inputSearch = document.querySelector('.js-search-input')\n// const margaritaUrl = 'https://www.thecocktaildb.com/api/json/v1/1/search.php?s=margarita'\n// const productsList = document.querySelector('.js-cocktails-list')\n// const searchButton = document.querySelector('.js-search-button')\n// const favoriteproductsList = document.querySelector('.js-favorite-cocktails-list')\n\n\n// let productsListData = []\n// let favoriteProductsListData = []\n\n// // First: Fetch\n\n// fetch(margaritaUrl)\n//     .then(response => response.json())\n//     .then(data => {\n//         productsListData = data.drinks\n//         renderPoductsList(productsListData)\n//     })\n\n// // function to show products list\n// const renderPoductsList = (productsListData) => {\n//     productsList.innerHTML = `<h3>Hay ${productsListData.length} tipos de cocktails</h3>`\n//     for (const product of productsListData) {\n//         productsList.innerHTML += renderEveryProduct(product)\n//     }\n//     addEventToIcon()\n// }\n\n// // function to show favorite products list\n// const renderFavoriteList = (favoriteProductsListData) => {\n//     favoriteproductsList.innerHTML = \"\"\n//     favoriteproductsList.innerHTML = `<h3>Hay ${favoriteProductsListData.length} cocktails favoritos</h3>`\n//     for (const product of favoriteProductsListData) {\n//         favoriteproductsList.innerHTML += renderEveryProduct(product)\n//     }\n//     addEventToIcon()\n// }\n\n// // function to show one product\n// const renderEveryProduct = (product) => {\n//     let content = \n//     `<li><article>`\n//     for(const eachProduct of productsListData) {\n//         content += \n//         `<img src=\"${eachProduct.strDrinkThumb}\" width=\"200\">\n//             <div>\n//                 <h4>${eachProduct.strDrink}</h4>\n//                 <a href=\"#\" class=\"js-favorite-button\" id=\"${eachProduct.idDrink}\">\n//                     <i class=\"fa-regular fa-heart\"></i>\n//                 </a>\n//             </div>`\n//     }\n//     content += `</article></li>`\n//     return content\n// }\n\n\n// // function for click search button\n// const handleSearchClick = (event) => {\n//     event.preventDefault()\n//     const inputSearchValue = inputSearch.value.toLowerCase()\n//     let newUrl = `https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${inputSearchValue}`\n//     fetch(newUrl)\n//     .then((response) => response.json())\n//     .then((data) => {\n//         productsListData = data.drinks\n//         renderPoductsList(productsListData)\n//     })\n// }\n\n// // function for click favorite button\n// const handleFavoriteClick = (event) => {\n//     event.preventDefault()\n//     const idProductSelected = event.currentTarget.id\n//     console.log(idProductSelected)\n//     event.currentTarget.classList.toggle('selected')\n//     console.log(productsListData)\n    \n//     const selectedProduct = productsListData.find((product) => {\n//     product.idDrink === idProductSelected}) // return UNDEFINED !!??\n//     console.log(selectedProduct)\n        \n//     favoriteProductsListData.push(selectedProduct)\n//     renderFavoriteList(favoriteProductsListData)\n// }\n\n// // function to add event to an array\n// function addEventToIcon() {\n// const favoriteButtons = document.querySelectorAll('.js-favorite-button')\n//     for (const eachFavoriteIcon of favoriteButtons) {\n//         eachFavoriteIcon.addEventListener('click', handleFavoriteClick)\n//     }\n// }\n\n\n// // Events\n// searchButton.addEventListener('click', handleSearchClick)\n"]}